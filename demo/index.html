<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>Date Pickers Showcase</title>

	<script src="../../webcomponentsjs/webcomponents-lite.js"></script>

	<link rel="import" href="../../cbn-form/cbn-form.html">
	<link rel="import" href="../../iron-input/iron-input.html">

	<link rel="import" href="../cbn-paper-datepicker.html">
	<link rel="import" href="../cbn-paper-date-range.html">

	<link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
	<link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">

</head>
<body>

<div style="width: 500px; margin: 50px auto;">
	<h1>Date picker input showcase</h1>

	<form is="cbn-form" id="demoForm" model="{{formModel}}">
		<demo-snippet class="centered-demo" style="position:relative">
			<template is="dom-bind">
				<p>
					<cbn-paper-datepicker name="first" value="{{value1}}" minDate="-1m" maxDate="+3y"
										  label="First"></cbn-paper-datepicker>
				</p>
			</template>
		</demo-snippet>
		<br/>
		<demo-snippet class="centered-demo" style="position:relative">
			<template is="dom-bind">
				<p>
					<cbn-paper-datepicker name="second" default-value="-8d" position="top left, top right"
										  label="Second"></cbn-paper-datepicker>
				</p>
			</template>
		</demo-snippet>
		<br/>
		<demo-snippet class="centered-demo" style="position:relative">
			<template is="dom-bind">
				<p>
					<cbn-paper-date-range name="range1" position="left bottom"
										  label="Range Picker"></cbn-paper-date-range>
				</p>
			</template>
		</demo-snippet>
		<br/>
		<demo-snippet class="centered-demo" style="position:relative">
			<template is="dom-bind">
				<p>
					<cbn-paper-date-range name="range2" position="left bottom"
										  value-format="DD.MM.YYYY" label="Range Picker 2"></cbn-paper-date-range>
				</p>
			</template>
		</demo-snippet>
		<br/>
	</form>

	<br/>
	<p style="font-weight: bold;">Output: </p>
	<pre id="stringifiedJson"></pre>
</div>

<script>
	var tpls = document.querySelectorAll('template[is=dom-bind]');
	var form = document.querySelector('form[is=cbn-form]');
	var output = document.getElementById("stringifiedJson");
	tpls.forEach(function (tpl, index) {
		tpl.value1 = '-3d';
		tpl.addEventListener('dom-change', function () {
			/** @namespace tpl.$.demoForm */

			function updateOutput(ev) {
				if (ev)
					console.trace('value changed', ev.target.name, ev.detail);
				/** @namespace tpl.$.stringifiedJson */
				output.textContent = JSON.stringify(form.model, null, 4);
			}

			form.addEventListener('value-changed', updateOutput);
			updateOutput();
		});
	})


</script>

</body>
</html>
