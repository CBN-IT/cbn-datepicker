<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../cbn-form/lib/include.html">
<link rel="import" href="../cbn-momentjs/cbn-momentjs.html">

<link rel="import" href="../iron-input/iron-input.html">
<link rel="import" href="../iron-icon/iron-icon.html" />
<link rel="import" href="../iron-icons/iron-icons.html" />

<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">

<link rel="import" href="styles.html">

<dom-module id="cbn-datepicker">
	<template>
		<style include="cbn-datepicker-styles-private"></style>
		
		<div id="container" tabindex="-1" on-mousedown="_refocusInput">
			
			<input is="iron-input" id="input" placeholder$="[[placeholder]]" title="[[title]]" 
				   on-focus="open" on-tap="open" 
				   on-input="_inputValueChanged" on-keypress="_inputKeyPress"
				   bind-value="{{_displayValue}}" />
			
			<div id="calendar" class$="[[_computeCalendarClasses(_open, _positions)]]">
				<div class="calendar-head">
					<paper-icon-button recenteringTouch="true" class="icon" icon="arrow-back"
									   on-tap="_navigatePrev"></paper-icon-button>
					
					<paper-button class$="[[_computeHeaderClasses(_displayHeaderL)]]"
								  on-tap="_navigateHeaderL">{{ _displayHeaderL }}</paper-button>
					<paper-button class$="[[_computeHeaderClasses(_displayHeaderR)]]"
								  on-tap="_navigateHeaderR">{{ _displayHeaderR }}</paper-button>
					
					<paper-icon-button recenteringTouch="true" class="icon" icon="arrow-forward"
									   on-tap="_navigateNext"></paper-icon-button>
				</div>
				
				<div id="content">
					<template is="dom-repeat" id="days" items="[[_displayItems]]" as="item">
						<paper-button class$="[[_computeItemClasses(item, _displaySelectedItem)]]" 
									  on-tap="_selectItem">[[item.label]]</paper-button>
					</template>
				</div>
				
				<div id="buttons">
					<paper-icon-button class="icon" style="color: #4285f4;" icon="today" 
									   on-tap="setToday">Today</paper-icon-button>
					<span class="separator"></span>
					<paper-icon-button class="icon" style="color: red" icon="clear" 
									   on-tap="clear">Clear</paper-icon-button>
				</div>
			</div>
		</div>
		
	</template>
</dom-module>

<script src="cbn-datepicker.js"></script>
